<aside class="sidebar h-full bg-white dark:bg-gray-800 shadow-lg flex flex-col flex-shrink-0 overflow-y-auto sidebar-scroll" [style.width]="isExpanded() ? SidebarWidthExpanded : SidebarWidthCollapsed">

  <!-- Toggle-button -->
  <button (click)="toggleSidebar()" class="p-3 text-center hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none" aria-label="Toggle Sidebar">
    @if (isExpanded()) {
      <lucide-angular [img]="ChevronLeft" [size]="20"></lucide-angular>
    } @else {
      <lucide-angular [img]="ChevronRight" [size]="20"></lucide-angular>
    }
  </button>

  <hr class="border-gray-200 dark:border-gray-700">

  <!-- Sidebar-top -->
  <nav class="flex-1 mt-4 space-y-2 px-2">
    @for (item of navItems; track item.title) {
      <a [routerLink]="item.link"
         routerLinkActive="bg-gray-100 dark:bg-gray-700"
         class="flex items-center p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 group"
         [title]="item.title">
        <lucide-angular
          [img]="item.icon"
          [size]="item.iconProps?.size || 20"
          [color]="item.iconProps?.color || 'currentColor'"
          [strokeWidth]="item.iconProps?.strokeWidth || 2"
          class="w-[28px] text-center group-hover:scale-110 transition-transform">
        </lucide-angular>
        <span
          class="ml-3 text-sm font-medium sidebar-text"
          [ngClass]="isExpanded() ? 'expanded' : 'collapsed'">
          {{ item.title }}
        </span>
      </a>
    }
  </nav>

  <!-- Sidebar bottom -->
  <div class="mt-auto px-2 pb-4 space-y-2">
    <hr class="border-gray-200 dark:border-gray-700 mb-2">
    @for (item of bottomItems; track item.title) {
      <a [routerLink]="item.link"
         routerLinkActive="bg-gray-100 dark:bg-gray-700"
         class="flex items-center p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 group"
         [title]="item.title">
        <lucide-angular
          [img]="item.icon"
          [size]="item.iconProps?.size || 20"
          [color]="item.iconProps?.color || 'currentColor'"
          [strokeWidth]="item.iconProps?.strokeWidth || 2"
          class="w-[28px] text-center group-hover:scale-110 transition-transform">
        </lucide-angular>
        <span
          class="ml-3 text-sm font-medium sidebar-text"
          [ngClass]="isExpanded() ? 'expanded' : 'collapsed'">
          {{ item.title }}
        </span>
      </a>
    }
  </div>
</aside>
